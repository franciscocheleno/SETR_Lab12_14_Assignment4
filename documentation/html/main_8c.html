<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SETR_Lab12_14_Assignment4: src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SETR_Lab12_14_Assignment4
   </div>
   <div id="projectbrief">Lab Assignment 4 (Mini-Project) - Prototyping a &quot;smart&quot; I/O module for the Industrial Internet of Things (IIoT) using Zephyr</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main application file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;zephyr/kernel.h&gt;</code><br />
<code>#include &lt;zephyr/drivers/gpio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="threads_8h_source.html">threads.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="uart_8h_source.html">uart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_i_o_8h_source.html">IO.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="adc_8h_source.html">ADC.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a661852bec8ab9683d43ad02881c2f2b5" id="r_a661852bec8ab9683d43ad02881c2f2b5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a661852bec8ab9683d43ad02881c2f2b5">LED0_NODE</a>&#160;&#160;&#160;DT_ALIAS(led0)</td></tr>
<tr class="separator:a661852bec8ab9683d43ad02881c2f2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b7bbb65d5065e43a35775d9fc3e322" id="r_ac8b7bbb65d5065e43a35775d9fc3e322"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8b7bbb65d5065e43a35775d9fc3e322">LED1_NODE</a>&#160;&#160;&#160;DT_ALIAS(led1)</td></tr>
<tr class="separator:ac8b7bbb65d5065e43a35775d9fc3e322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9014b2cb02041c926b50b6411232ee82" id="r_a9014b2cb02041c926b50b6411232ee82"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9014b2cb02041c926b50b6411232ee82">LED2_NODE</a>&#160;&#160;&#160;DT_ALIAS(led2)</td></tr>
<tr class="separator:a9014b2cb02041c926b50b6411232ee82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5246f73682d98292ef7d7b038582700" id="r_ad5246f73682d98292ef7d7b038582700"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad5246f73682d98292ef7d7b038582700">LED3_NODE</a>&#160;&#160;&#160;DT_ALIAS(led3)</td></tr>
<tr class="separator:ad5246f73682d98292ef7d7b038582700"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af7447a20748b0bb185d287bdd6c63b00" id="r_af7447a20748b0bb185d287bdd6c63b00"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7447a20748b0bb185d287bdd6c63b00">outputs_config</a> ()</td></tr>
<tr class="memdesc:af7447a20748b0bb185d287bdd6c63b00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configures the output for the LEDs.  <br /></td></tr>
<tr class="separator:af7447a20748b0bb185d287bdd6c63b00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe" id="r_a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize threads, pins, and UART.  <br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab75a9cab83ec0f1c6cb497b2fcba61d9" id="r_ab75a9cab83ec0f1c6cb497b2fcba61d9"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_d_a_t_a_b_a_s_e.html">DATABASE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab75a9cab83ec0f1c6cb497b2fcba61d9">DB</a></td></tr>
<tr class="separator:ab75a9cab83ec0f1c6cb497b2fcba61d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50fe4b13bf2afc7318af54e654db9145" id="r_a50fe4b13bf2afc7318af54e654db9145"><td class="memItemLeft" align="right" valign="top">struct gpio_dt_spec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50fe4b13bf2afc7318af54e654db9145">led0_dev</a> = GPIO_DT_SPEC_GET(<a class="el" href="#a661852bec8ab9683d43ad02881c2f2b5">LED0_NODE</a>, gpios)</td></tr>
<tr class="separator:a50fe4b13bf2afc7318af54e654db9145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb6257d3404a21567727de766108246" id="r_a1cb6257d3404a21567727de766108246"><td class="memItemLeft" align="right" valign="top">struct gpio_dt_spec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1cb6257d3404a21567727de766108246">led1_dev</a> = GPIO_DT_SPEC_GET(<a class="el" href="#ac8b7bbb65d5065e43a35775d9fc3e322">LED1_NODE</a>, gpios)</td></tr>
<tr class="separator:a1cb6257d3404a21567727de766108246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3ce5d68b360629114bfef1450b8a5d" id="r_acd3ce5d68b360629114bfef1450b8a5d"><td class="memItemLeft" align="right" valign="top">struct gpio_dt_spec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd3ce5d68b360629114bfef1450b8a5d">led2_dev</a> = GPIO_DT_SPEC_GET(<a class="el" href="#a9014b2cb02041c926b50b6411232ee82">LED2_NODE</a>, gpios)</td></tr>
<tr class="separator:acd3ce5d68b360629114bfef1450b8a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37cb9fa582678f5d3381405d90135296" id="r_a37cb9fa582678f5d3381405d90135296"><td class="memItemLeft" align="right" valign="top">struct gpio_dt_spec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37cb9fa582678f5d3381405d90135296">led3_dev</a> = GPIO_DT_SPEC_GET(<a class="el" href="#ad5246f73682d98292ef7d7b038582700">LED3_NODE</a>, gpios)</td></tr>
<tr class="separator:a37cb9fa582678f5d3381405d90135296"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main application file. </p>
<dl class="section author"><dt>Author</dt><dd>: Francisco Heleno <a href="#" onclick="location.href='mai'+'lto:'+'fra'+'nc'+'isc'+'o.'+'c.h'+'el'+'eno'+'@u'+'a.p'+'t'; return false;">franc<span class="obfuscator">.nosp@m.</span>isco<span class="obfuscator">.nosp@m.</span>.c.he<span class="obfuscator">.nosp@m.</span>leno<span class="obfuscator">.nosp@m.</span>@ua.p<span class="obfuscator">.nosp@m.</span>t</a> and Hugo Carola <a href="#" onclick="location.href='mai'+'lto:'+'hug'+'oc'+'aro'+'la'+'@ua'+'.p'+'t'; return false;">hugoc<span class="obfuscator">.nosp@m.</span>arol<span class="obfuscator">.nosp@m.</span>a@ua.<span class="obfuscator">.nosp@m.</span>pt</a> based on sample code given by Prof. Paulo Pedreiras</dd></dl>
<dl class="section date"><dt>Date</dt><dd>1, June, 2024 </dd></dl>
<p>This file contains the main application code. It initializes the database, configures the output pins for LEDs, sets up UART, configures buttons, and initializes threads.</p>
<p>The main function resets the database values, configures the GPIO pins for the LEDs, initializes UART communication, configures button inputs, and sets up the necessary threads for the application. The outputs_config function ensures the GPIO pins for the LEDs are ready and configures them to be in an output state. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a661852bec8ab9683d43ad02881c2f2b5" name="a661852bec8ab9683d43ad02881c2f2b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a661852bec8ab9683d43ad02881c2f2b5">&#9670;&#160;</a></span>LED0_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED0_NODE&#160;&#160;&#160;DT_ALIAS(led0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac8b7bbb65d5065e43a35775d9fc3e322" name="ac8b7bbb65d5065e43a35775d9fc3e322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b7bbb65d5065e43a35775d9fc3e322">&#9670;&#160;</a></span>LED1_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED1_NODE&#160;&#160;&#160;DT_ALIAS(led1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9014b2cb02041c926b50b6411232ee82" name="a9014b2cb02041c926b50b6411232ee82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9014b2cb02041c926b50b6411232ee82">&#9670;&#160;</a></span>LED2_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED2_NODE&#160;&#160;&#160;DT_ALIAS(led2)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad5246f73682d98292ef7d7b038582700" name="ad5246f73682d98292ef7d7b038582700"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5246f73682d98292ef7d7b038582700">&#9670;&#160;</a></span>LED3_NODE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LED3_NODE&#160;&#160;&#160;DT_ALIAS(led3)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a840291bc02cba5474a4cb46a9b9566fe" name="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize threads, pins, and UART. </p>
<p>This is the main entry point for the program. It resets the database variables, configures the outputs, initializes the UART, configures the buttons, and sets up the threads.</p>
<dl class="section return"><dt>Returns</dt><dd>Always returns 0. </dd></dl>

</div>
</div>
<a id="af7447a20748b0bb185d287bdd6c63b00" name="af7447a20748b0bb185d287bdd6c63b00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7447a20748b0bb185d287bdd6c63b00">&#9670;&#160;</a></span>outputs_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void outputs_config </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configures the output for the LEDs. </p>
<p>This function initializes and configures the GPIO pins for the LEDs. It sets the GPIO pins to be in an output state and ensures the LEDs are initially turned off. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab75a9cab83ec0f1c6cb497b2fcba61d9" name="ab75a9cab83ec0f1c6cb497b2fcba61d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75a9cab83ec0f1c6cb497b2fcba61d9">&#9670;&#160;</a></span>DB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_d_a_t_a_b_a_s_e.html">DATABASE</a> DB</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Global database instance </p>

</div>
</div>
<a id="a50fe4b13bf2afc7318af54e654db9145" name="a50fe4b13bf2afc7318af54e654db9145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50fe4b13bf2afc7318af54e654db9145">&#9670;&#160;</a></span>led0_dev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gpio_dt_spec led0_dev = GPIO_DT_SPEC_GET(<a class="el" href="#a661852bec8ab9683d43ad02881c2f2b5">LED0_NODE</a>, gpios)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GPIO specification for LED 0 </p>

</div>
</div>
<a id="a1cb6257d3404a21567727de766108246" name="a1cb6257d3404a21567727de766108246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb6257d3404a21567727de766108246">&#9670;&#160;</a></span>led1_dev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gpio_dt_spec led1_dev = GPIO_DT_SPEC_GET(<a class="el" href="#ac8b7bbb65d5065e43a35775d9fc3e322">LED1_NODE</a>, gpios)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GPIO specification for LED 1 </p>

</div>
</div>
<a id="acd3ce5d68b360629114bfef1450b8a5d" name="acd3ce5d68b360629114bfef1450b8a5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3ce5d68b360629114bfef1450b8a5d">&#9670;&#160;</a></span>led2_dev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gpio_dt_spec led2_dev = GPIO_DT_SPEC_GET(<a class="el" href="#a9014b2cb02041c926b50b6411232ee82">LED2_NODE</a>, gpios)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GPIO specification for LED 2 </p>

</div>
</div>
<a id="a37cb9fa582678f5d3381405d90135296" name="a37cb9fa582678f5d3381405d90135296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37cb9fa582678f5d3381405d90135296">&#9670;&#160;</a></span>led3_dev</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct gpio_dt_spec led3_dev = GPIO_DT_SPEC_GET(<a class="el" href="#ad5246f73682d98292ef7d7b038582700">LED3_NODE</a>, gpios)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>GPIO specification for LED 3 </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
